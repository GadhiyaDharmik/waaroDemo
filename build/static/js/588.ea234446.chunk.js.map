{"version":3,"file":"static/js/588.ea234446.chunk.js","mappings":"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","sources":["pages/ProductListing/ProductListing.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\nimport { Upload } from \"lucide-react\";\r\nimport axiosMain from \"../utils/axiosMain\";\r\nimport { toast } from \"react-toastify\"; // Import toast for notifications\r\nimport i from \"../../asset/I img.png\";\r\n\r\nconst ProductListing = () => {\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const [product, setProduct] = useState({\r\n    category: \"\",\r\n    name: \"\",\r\n    price: \"\",\r\n    label: \"\",\r\n    areaCode: \"\",\r\n    city: \"\", \r\n    description: \"\",\r\n    keywords: \"\",\r\n    photo: null,\r\n  });\r\n\r\n  // Handle text inputs\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  // Handle image selection\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const imageUrl = URL.createObjectURL(file);\r\n      setSelectedImage(imageUrl);\r\n      setProduct((prev) => ({ ...prev, photo: file })); // Save file in state\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const userDetail = JSON.parse(localStorage.getItem(\"userDetail\")); // Get stored user data\r\n    const userId = userDetail?.user?._id; // âœ… Correctly access user ID\r\n\r\n    if (!userId) {\r\n      toast.error(\"User ID not found! Plese log in again.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    for (const key in product) {\r\n      formData.append(key, product[key]);\r\n    }\r\n\r\n    // if (selectedImage) {\r\n    //   formData.append(\"photo\", product.photo);\r\n    // }\r\n\r\n    formData.append(\"createdBy\", userId); // Attach user ID\r\n\r\n    axiosMain\r\n      .post(\"https://waaro.in/api/upload-product\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      })\r\n      .then((res) => {\r\n        if (res.success) {\r\n          toast.success(res.message);\r\n        } else {\r\n          toast.error(res.data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error:\", err);\r\n        toast.error(\"Something went wrong!\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white px-2 py-4\">\r\n      <div className=\"mt-4 w-50 w-md-75 w-sm-100\">\r\n        <h3 className=\"mb-4 product-title\">Product Listing</h3>\r\n        <Form onSubmit={handleSubmit} className=\"d-grid gap-2\">\r\n          <Form.Group controlId=\"category\" className=\"mb-3\">\r\n            <Form.Label>Product Category</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter Product Category\"\r\n              name=\"category\"\r\n              className=\"border border-dark\"\r\n              value={product.category}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Row className=\"gap-2\">\r\n            <Col>\r\n              <Form.Group controlId=\"name\" className=\"mb-3\">\r\n                <Form.Label>Product Name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Enter Product Name\"\r\n                  name=\"name\"\r\n                  value={product.name}\r\n                  onChange={handleChange}\r\n                  className=\"border border-dark\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"photo\" className=\"mb-3\">\r\n                <Form.Label>Upload Product Photo</Form.Label>\r\n                <div className=\"d-flex align-items-center\">\r\n                  <div\r\n                    className=\"preview-box border border-dark me-2\"\r\n                    style={{ width: \"20%\", height: \"40px\" }}\r\n                  >\r\n                    {selectedImage && (\r\n                      <img\r\n                        src={selectedImage}\r\n                        alt=\"Product preview\"\r\n                        className=\"preview-image\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <label htmlFor=\"product-photo\" className=\"upload-btn\">\r\n                    <Upload className=\"icon\" />\r\n                    <input\r\n                      id=\"product-photo\"\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      className=\"file-input\"\r\n                      onChange={handleImageUpload}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row className=\"gap-2\">\r\n            <Col>\r\n              <Form.Group controlId=\"price\" className=\"mb-3\">\r\n                <Form.Label>Product Price</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Enter Price\"\r\n                  name=\"price\"\r\n                  value={product.price}\r\n                  className=\"border border-dark\"\r\n                  onChange={handleChange}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"label\" className=\"mb-3\">\r\n                <Form.Label>Product Label</Form.Label>\r\n                <Form.Select\r\n                  name=\"label\"\r\n                  className=\"border border-dark\"\r\n                  value={product.label}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option>Unit</option>\r\n                  <option>Kg</option>\r\n                  <option>Piece</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row className=\"gap-2\">\r\n            <Col>\r\n              <Form.Group controlId=\"areaCode\" className=\"mb-3\">\r\n                <Form.Label>Area Code</Form.Label>\r\n                <Form.Select\r\n                  name=\"areaCode\"\r\n                  value={product.areaCode}\r\n                  onChange={handleChange}\r\n                  className=\"border border-dark\"\r\n                >\r\n                  <option>Select Area Code</option>\r\n                  <option>123</option>\r\n                  <option>456</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"city\" className=\"mb-3\">\r\n                <Form.Label>City</Form.Label>\r\n                <Form.Select\r\n                  name=\"city\"\r\n                  value={product.city}\r\n                  className=\"border border-dark\"\r\n                  onChange={handleChange}\r\n                >\r\n                  <option>Select City</option>\r\n                  <option>New York</option>\r\n                  <option>Los Angeles</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Group controlId=\"description\" className=\"mb-3\">\r\n            <Form.Label>Product Description</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              placeholder=\"Enter Description (Minimum 25 words)\"\r\n              name=\"description\"\r\n              className=\"border border-dark\"\r\n              value={product.description}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"keywords\" className=\"mb-3\">\r\n            <Form.Label>Product Keywords</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              className=\"border border-dark\"\r\n              placeholder=\"Enter Keywords (Minimum 25 words)\"\r\n              name=\"keywords\"\r\n              value={product.keywords}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Button variant=\"dark\" type=\"submit\" className=\"mt-3 w-100\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListing;\r\n"],"names":["ProductListing","selectedImage","setSelectedImage","useState","product","setProduct","category","name","price","label","areaCode","city","description","keywords","photo","handleChange","e","value","target","_jsx","className","children","_jsxs","Form","onSubmit","_userDetail$user","preventDefault","userDetail","JSON","parse","localStorage","getItem","userId","user","_id","toast","error","formData","FormData","key","append","axiosMain","post","headers","then","res","success","message","data","catch","err","console","Group","controlId","Label","Control","type","placeholder","onChange","Row","Col","style","width","height","src","alt","htmlFor","Upload","id","accept","_e$target$files","file","files","imageUrl","URL","createObjectURL","prev","Select","as","rows","Button","variant"],"sourceRoot":""}